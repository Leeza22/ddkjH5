(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{2574:function(t,e,n){"use strict";n.r(e);var a=n("5da1"),i=n("97d2");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("8d7e");var r,s=n("f0c5"),c=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"7f9d108a",null,!1,a["a"],r);e["default"]=c.exports},3237:function(t,e,n){"use strict";n.r(e);var a=n("f529"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"572e":function(t,e,n){var a=n("664e");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("dff10bbe",a,!0,{sourceMap:!1,shadowMode:!1})},"5da1":function(t,e,n){"use strict";var a,i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showTabbar?n("v-uni-view",{staticClass:"tabbar-box",on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.blurEdit.apply(void 0,arguments)}}},[t._l(t.tabbarList,(function(e,a){return n("v-uni-view",{key:a,staticClass:"tabbar-item",class:t.menu.path===e.path?"tabbar-item-active":"",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.changeTab(e)}}},[n("v-uni-text",{staticClass:"iconfont tabbar-icon"},[t._v("")]),n("v-uni-view",{staticClass:"tabbar-title"},[e.pageName?n("v-uni-text",[t._v(t._s(e.pageName))]):n("v-uni-text",[t._v("未命名")])],1)],1)})),n("v-uni-view",{staticClass:"tabbar-item",class:t.officeActive?"tabbar-item-active":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toOfficePage.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"iconfont tabbar-icon"},[t._v("")]),n("v-uni-text",{staticClass:"tabbar-title"},[t._v("办公")])],1)],2):t._e()},o=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}))},"664e":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/*全局css 样式*/\n/* 表格高度64rpx 32px    字体30rpx  字体颜色#666666 边框颜色#c7c7c7*/\n/* pc主题色 #5F96C5     目前#2298ef*/\n/* 颜色变量 */\n/* 边框颜色 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 表格高度 */\n/*form input高度*/\n/* 背景颜色 */\n/*层级*/\n/* 尺寸变量 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 自定义 */\n/*自定义按钮*/.d-btn[data-v-7f9d108a]{display:inline-block;padding:%?4?% %?24?%;border-radius:%?8?%}.d-btn-default[data-v-7f9d108a]{background-color:#fff;color:#666;border:%?1?% solid #ccc}.d-btn-primary[data-v-7f9d108a]{background-color:#2298ef;color:#fff;background-color:#2298ef}.full-width[data-v-7f9d108a]{width:100%}\n/*表格元素*/.table-item-style[data-v-7f9d108a]{padding:0 %?6?%;box-sizing:border-box}.table-item-content[data-v-7f9d108a]{min-height:%?64?%;\n  /*与后台协商的padding 不能改*/padding:0 %?6?%;box-sizing:border-box;width:100%;font-size:%?30?%;color:#666;line-height:1.5em;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;word-break:break-all;overflow:hidden;\n  /*居右*/\n  /*配合.show-list */\n  /*居左*/\n  /*居中*/text-align:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.table-item-content-index[data-v-7f9d108a]{height:%?64?%;overflow:hidden;white-space:nowrap}\n/*单选 多选 卡片位置*/.show-list[data-v-7f9d108a]{\n  /*居中*/left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);\n  /*居右*/\n  /*居左*/\n  /*卡片中文字居中*/text-align:center}\n/*表格文本对齐*/\n/*表格默认高度 没有内容撑高元素*/\n/*文字超出部分隐藏*/.checked-color[data-v-7f9d108a]{color:#2298ef}.uni-input-placeholder[data-v-7f9d108a], .show-placeholder[data-v-7f9d108a]{color:#ccc;font-size:%?28?%;line-height:%?64?%}\n/* tabbar样式*/.tabbar-box[data-v-7f9d108a]{height:50px;width:100%;box-sizing:border-box;border-top:%?1?% solid #eee;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-justify-content:space-around;justify-content:space-around;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:fixed;bottom:0;z-index:888;color:#999;background-color:#fff}.tabbar-icon[data-v-7f9d108a]{font-size:%?40?%;line-height:%?60?%}.tabbar-title[data-v-7f9d108a]{-webkit-flex-basis:100%;flex-basis:100%;text-align:center;font-size:12px;line-height:12px;height:12px;width:100%;overflow:hidden;margin-bottom:5px}.tabbar-item[data-v-7f9d108a]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.tabbar-item-active[data-v-7f9d108a]{color:#2298ef}',""]),t.exports=e},"75a6":function(t,e,n){"use strict";var a,i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"content",style:"padding-top:"+t.paddingTop+"px;"},[n("statusBar"),n("Table",{attrs:{scrollList:"true",columns:t.columns,tableLists:t.tableLists,tmpData:t.tmpData,topbarShow:!0,fixedColumn:!0,tabletype:1},on:{addTable:function(e){arguments[0]=e=t.$handleEvent(e),t.addTable.apply(void 0,arguments)},updateTable:function(e){arguments[0]=e=t.$handleEvent(e),t.updateData.apply(void 0,arguments)},changeOrder:function(e){arguments[0]=e=t.$handleEvent(e),t.changeOrder.apply(void 0,arguments)}}}),n("tab-bar",{attrs:{menu:t.menu}})],1)},o=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}))},"8bcf":function(t,e,n){"use strict";var a=n("9e73"),i=n.n(a);i.a},"8d7e":function(t,e,n){"use strict";var a=n("572e"),i=n.n(a);i.a},"97d2":function(t,e,n){"use strict";n.r(e);var a=n("ed4c"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"9cee":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,".content[data-v-f11daaac]{\n\t/* margin-top:80rpx; */\n\t/* padding-bottom:140rpx; */}\n/* 编辑时候点击mask部分也可以确认 */.mask-table[data-v-f11daaac]{width:100%;z-index:0;position:fixed;bottom:%?100?%;left:0;background-color:$mask-color}",""]),t.exports=e},"9e73":function(t,e,n){var a=n("9cee");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("a9948da2",a,!0,{sourceMap:!1,shadowMode:!1})},b9d3:function(t,e,n){"use strict";n.r(e);var a=n("75a6"),i=n("3237");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("8bcf");var r,s=n("f0c5"),c=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"f11daaac",null,!1,a["a"],r);e["default"]=c.exports},ed4c:function(t,e,n){"use strict";var a=n("ee27");n("fb6a"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var i=a(n("c964")),o={computed:{tabbarList:function(){if(this.$store.getters.menuFlat)return this.$store.getters.menuFlat.slice(0,4)},officeActive:function(){for(var t in this.tabbarList)if(this.menu.path==this.tabbarList[t].path)return!1;return!0},recordsAll:function(){return this.$store.state.table.recordsAll}},props:{menu:{type:[Object,String]}},data:function(){return{windowHeight:"",showTabbar:!0,toMenu:null}},methods:{changeTab:function(t){this.toMenu=t,this.saveRecords()},changeMenuFun:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.toMenu){e.next=10;break}if(!t.toMenu||"schedule"!=t.toMenu.path){e.next=5;break}uni.reLaunch({url:"/pages/office/schedule/schedule"}),e.next=10;break;case 5:return t.$store.commit("updatePath",t.toMenu.path),e.next=8,t.$store.dispatch("getPath").catch((function(t){}));case 8:n=e.sent,n?uni.reLaunch({url:"/pages/index/index"}):uni.showToast({title:"页面请求失败",icon:"none"});case 10:case"end":return e.stop()}}),e)})))()},saveRecords:function(){var t=this;this.recordsAll&&this.recordsAll.length>0?uni.showModal({content:"有未保存的修改，是否保存？",cancelText:"不保存",confirmText:"保存",success:function(e){e.confirm?(t.$store.dispatch("saveOneTable",{tmpId:t.menu.tmpId,pageId:t.menu.pageId,tmpTableId:"page_"+t.menu.tmpId+"_"+t.menu.pageId}).catch((function(t){})),t.$store.commit("initRows"),t.$store.commit("initTableState"),t.changeMenuFun()):e.cancel&&(t.$store.commit("initRows"),t.$store.commit("initTableState"),t.changeMenuFun())}}):this.changeMenuFun()},toOfficePage:function(){uni.reLaunch({url:"/pages/office/office"})},blurEdit:function(){this.$store.commit("initActiveItem"),this.$store.commit("changeEditable",!1),this.$store.commit("changeDeleteStatus",{tmpId:"",pageId:"",status:!1})}},mounted:function(){var t=this;uni.getSystemInfo({success:function(e){t.windowHeight=e.windowHeight}}),uni.onWindowResize((function(e){e.size.windowHeight+40<t.windowHeight?t.showTabbar=!1:t.showTabbar=!0}))}};e.default=o},f529:function(t,e,n){"use strict";var a=n("ee27");n("ac1f"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("f3f3")),o=(n("1dc0"),a(n("982d"))),r=a(n("e199")),s=a(n("2574")),c=n("2f62"),u={components:{Table:o.default,statusBar:r.default,tabBar:s.default},data:function(){return{maskHeight:0,paddingTop:0,system:"",top:0}},computed:(0,i.default)({},(0,c.mapState)({tableLists:function(t){return t.page.tableLists},tmpData:function(t){return t.page.tmpData},columns:function(t){return t.page.columns},menu:function(t){return t.page.menu},rows:function(t){return t.page.rows},size:function(t){return t.page.size},currentIndex:function(t){return t.page.currentIndex},currentArr:function(t){return t.page.currentArr},pageId:function(t){return t.page.pageId},tmpId:function(t){return t.page.tmpId},path:function(t){return t.login.path},loginState:function(t){return t.login.loginState}}),{menuFlat:function(){return this.$store.getters.menuFlat}}),methods:{blurEdit:function(){this.$store.commit("initActiveItem"),this.$store.commit("changeEditable",!1)},updateData:function(t){t.tmpTableId===this.tmpData.tmpTableId&&this.$store.dispatch("changeData",{pageId:this.pageId,current:this.current,size:this.size,firstOpen:!1})},changeOrder:function(t){t.tmpTableId==this.tmpData.tmpTableId&&t.order&&this.$store.dispatch("changeData",{pageId:this.pageId,order:t.order})},addTable:function(t){},getHeight:function(){var t=this.system,e=this;setTimeout((function(){var n=uni.createSelectorQuery().select(".content");n.boundingClientRect((function(n){if(n){var a=t.windowHeight-t.statusBarHeight-n.height+20;e.maskHeight=a>0?a:0}})).exec()}),500)}},onReady:function(){console.log("ready"),this.path&&""!=this.path||this.menuFlat&&this.menuFlat.length>0&&(this.$store.commit("updatePath",this.menuFlat[0].path),this.$store.dispatch("getPath")),this.system=uni.getSystemInfoSync(),this.paddingTop=this.system.statusBarHeight+40},onPullDownRefresh:function(){this.$store.commit("initPageState"),this.$store.commit("initTable"),this.$store.dispatch("changeData",{pageId:this.pageId}),uni.stopPullDownRefresh()},onReachBottom:function(){console.log("触底")},onShow:function(){this.loginState||this.$store.dispatch("changeMenuTree"),console.log("onshow")},onHide:function(){console.log("onhide")},onUnload:function(){console.log("unload")}};e.default=u}}]);